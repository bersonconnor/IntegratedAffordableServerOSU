{"ast":null,"code":"import _regeneratorRuntime from \"/home/ubuntu/Connor/WorkOSU/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ubuntu/Connor/WorkOSU/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/ubuntu/Connor/WorkOSU/app/src/pages/MainPages/MainPagesRoutingContainer/Sidebar.tsx\";\nimport React, { Component } from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport RepresentingOrganization from \"./RepresentingOrganization\";\nimport \"./scss/sidebar.scss\";\nimport logo from \"./Logo.png\";\nimport { UserType } from \"affordable-shared-models\";\nimport DepositButton from \"../../../components/Modal/DepositButton\";\nimport WithdrawButton from \"../../../components/Modal/WithdrawButton\";\n\nclass SidebarState {\n  constructor() {\n    this.pendingBalance = 0;\n    this.availableBalance = 0;\n    this.name = void 0;\n    this.checkBalance = void 0;\n  }\n\n}\n\nclass Sidebar extends Component {\n  constructor(props, context) {\n    var _this;\n\n    super(props, context);\n    _this = this;\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.getBalance = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var balance;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.props.client.getBalance(_this.props.user, _this.props.userType);\n\n            case 2:\n              balance = _context.sent;\n\n              if (balance.success === \"Balance found\") {\n                _this.formatBalance(balance.pendingBalance, balance.balance);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    this.state = new SidebarState();\n    this.handleChange = this.handleChange.bind(this);\n    this.updateSelectedOrganization = this.updateSelectedOrganization.bind(this);\n  }\n\n  componentDidMount() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var timer;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              timer = setInterval(() => _this2.getBalance(), 30000);\n\n              _this2.setState({\n                checkBalance: timer\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.checkBalance);\n  } //for handling verified orgs\n\n\n  updateSelectedOrganization(organization) {\n    this.props.updateOrganizationFn(organization);\n  } // Use the submitted data to set the state\n\n\n  handleChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value; // this.setState({\n    //   [name]: value\n    // });\n  }\n\n  formatBalance(pending, available) {\n    var p = pending.toLocaleString(undefined, {\n      minimumFractionDigits: 2\n    });\n    var a = available.toLocaleString(undefined, {\n      minimumFractionDigits: 2\n    });\n    this.setState({\n      pendingBalance: p,\n      availableBalance: a\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3 px-0 sidebar\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"format-logo-sidebar\",\n      src: logo,\n      alt: \"Affordable Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, this.props.userType === UserType.RECIPIENT ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(RepresentingOrganization, {\n      client: this.props.client,\n      userId: this.props.userId,\n      representedOrganization: this.props.organizationMembership,\n      updateOrganizationFn: this.updateSelectedOrganization.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      className: \"flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, \"admin\".localeCompare(this.props.user) === 0 ? /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, \"Dashboard\")) : this.props.userType === UserType.RECIPIENT ? /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/application\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, \"Dashboard\")) : /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/transactions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \"Transactions\")), /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, \"Settings\")), /*#__PURE__*/React.createElement(LinkContainer, {\n      to: \"/filemanager\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 4\n      }\n    }, \"File Manager\")), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link\",\n      href: \"mailto:support@affordhealth.org\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 15\n      }\n    }, \"SUPPORT\")), this.props.userName === \"admin\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }), \"Balance\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"sidebar-balance\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"text-align\": \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, \"$\", this.state.availableBalance)), this.props.userType === UserType.DONOR ? /*#__PURE__*/React.createElement(DepositButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(WithdrawButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    })))));\n  }\n\n}\n\nexport default Sidebar;","map":{"version":3,"sources":["/home/ubuntu/Connor/WorkOSU/app/src/pages/MainPages/MainPagesRoutingContainer/Sidebar.tsx"],"names":["React","Component","Nav","LinkContainer","RepresentingOrganization","logo","UserType","DepositButton","WithdrawButton","SidebarState","pendingBalance","availableBalance","name","checkBalance","Sidebar","constructor","props","context","handleSubmit","e","preventDefault","getBalance","client","user","userType","balance","success","formatBalance","state","handleChange","bind","updateSelectedOrganization","componentDidMount","timer","setInterval","setState","componentWillUnmount","clearInterval","organization","updateOrganizationFn","event","target","value","pending","available","p","toLocaleString","undefined","minimumFractionDigits","a","render","RECIPIENT","userId","organizationMembership","localeCompare","userName","DONOR"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport ApplicationOptions from \"./ApplicationOptions\";\nimport OrganizationOptions from \"./OrganizationOptions\";\nimport HUGOptions from \"./HUGOptions\";\nimport RepresentingOrganization from \"./RepresentingOrganization\";\nimport \"./scss/sidebar.scss\";\nimport logo from \"./Logo.png\";\nimport { OrganizationMembership, UserType } from \"affordable-shared-models\";\nimport { AffordableClient } from \"affordable-client\";\nimport DepositButton from \"../../../components/Modal/DepositButton\";\nimport WithdrawButton from \"../../../components/Modal/WithdrawButton\";\n\n\ninterface SidebarProps {\n  client: AffordableClient;\n  userId: number;\n  user: string;\n  userName: string;\n  userType: UserType;\n  organizationMembership: OrganizationMembership;\n  updateOrganizationFn: (organization: OrganizationMembership) => void;\n}\n\nclass SidebarState {\n  pendingBalance: number = 0;\n  availableBalance: number = 0;\n  name: any;\n  checkBalance: any;\n}\n\nclass Sidebar extends Component<SidebarProps, SidebarState> {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = new SidebarState();\n    this.handleChange = this.handleChange.bind(this);\n    this.updateSelectedOrganization = this.updateSelectedOrganization.bind(\n      this\n    );\n  }\n\n  async componentDidMount() {\n    var timer = setInterval(() => this.getBalance(), 30000);\n    this.setState({\n      checkBalance: timer\n    });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.checkBalance);\n  }\n\n\n  //for handling verified orgs\n  updateSelectedOrganization(organization: OrganizationMembership): void {\n    this.props.updateOrganizationFn(organization);\n  }\n\n  // Use the submitted data to set the state\n  handleChange(event): void {\n    const { name, value } = event.target;\n    // this.setState({\n    //   [name]: value\n    // });\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n  };\n\n  formatBalance(pending, available) {\n    var p = pending.toLocaleString(undefined, { minimumFractionDigits: 2 });\n    var a = available.toLocaleString(undefined, { minimumFractionDigits: 2 });\n    this.setState({\n      pendingBalance: p,\n      availableBalance: a\n    });\n  }\n\n  getBalance = async () => {\n    var balance = await this.props.client.getBalance(this.props.user, this.props.userType);\n    if (balance.success === \"Balance found\") {\n      this.formatBalance(balance.pendingBalance, balance.balance);\n    }\n  }\n\n\n  render() {\n    return (\n      <div className=\"col-3 px-0 sidebar\" onSubmit={this.handleSubmit}>\n        <div className=\"row mt-3\">\n          <div className=\"col text-center\">\n            <img\n              className=\"format-logo-sidebar\"\n              src={logo}\n              alt=\"Affordable Logo\"\n            />\n          </div>\n        </div>\n        {/*representing organization restrictions here*/}\n        <div className=\"row mt-3\">\n          <div className=\"col-2\" />\n          <div className=\"col\">\n            {this.props.userType === UserType.RECIPIENT ? (\n              <div />\n            ) : (\n                <RepresentingOrganization\n                  client={this.props.client}\n                  userId={this.props.userId}\n                  representedOrganization={this.props.organizationMembership}\n                  updateOrganizationFn={this.updateSelectedOrganization.bind(\n                    this\n                  )}\n                />\n              )}\n          </div>\n        </div>\n\n        <div className=\"row mt-3\">\n          <div className=\"col-2\" />\n          <div className=\"col\">\n            <Nav className=\"flex-column\">\n              {\"admin\".localeCompare(this.props.user) === 0 ?\n                <LinkContainer to=\"/dashboard\">\n                  <Nav.Link>Dashboard</Nav.Link>\n                </LinkContainer>\n                : this.props.userType === UserType.RECIPIENT ?\n\n                  <LinkContainer to=\"/application\">\n                    <Nav.Link>Dashboard</Nav.Link>\n                  </LinkContainer>\n                  :\n                  <LinkContainer to=\"/dashboard\">\n                    <Nav.Link>Dashboard</Nav.Link>\n                  </LinkContainer>\n              }\n              {/*\n              <LinkContainer to=\"/profile\">\n                <Nav.Link>Profile</Nav.Link>\n              </LinkContainer>\n              */}\n              <LinkContainer to=\"/transactions\">\n                <Nav.Link>Transactions</Nav.Link>\n              </LinkContainer>\n              <LinkContainer to=\"/settings\">\n                <Nav.Link>Settings</Nav.Link>\n              </LinkContainer>\n\t\t\n\t\t<LinkContainer to=\"/filemanager\">\n\t\t\t<Nav.Link>File Manager</Nav.Link>\n\t\t</LinkContainer>\n\n              {/* integration options shown for donor*/}\n              {/* this.props.userType === UserType.DONOR ? (\n                <LinkContainer to=\"/integrate\">\n                  <Nav.Link>Integrate</Nav.Link>\n                </LinkContainer>\n              ) : (\n                <div />\n              )} */}\n\n              {/*application vs organization options for recipient vs donor*/}\n              {/* {this.props.userType === UserType.RECIPIENT ? (\n                <div>\n                  <ApplicationOptions />\n                </div>\n              ) : (\n                <div>\n                  <OrganizationOptions userId={this.props.userId} />\n                </div>\n              )} */}\n              {/*hug options present or hidden for donor vs recipient*/}\n              {/* {this.props.userType === UserType.DONOR &&\n              this.props.organizationMembership?.organization?.isVerified ? (\n                <div>\n                  <HUGOptions />\n                </div>\n              ) : (\n                <div />\n              )} */}\n              <a className=\"nav-link\" href=\"mailto:support@affordhealth.org\">SUPPORT</a>\n            </Nav>\n\n            {/* User balance and button container */}\n            {/* (Don't show if the user is the admin) */}\n            {\n              this.props.userName === \"admin\" ?\n                <div />\n                :\n                <div className=\"col\" >\n                  <br />\n                  {/* User balance */}\n                        Balance\n                        <br />\n                  <div id=\"sidebar-balance\">\n                    <span text-align=\"left\">${this.state.availableBalance}</span>\n                  </div>\n\n                  {/* A \"Withdraw\" button for recipient users or \"Deposit\" for donor users */}\n                  {\n                    this.props.userType === UserType.DONOR ?\n                      <DepositButton />\n                      :\n                      <WithdrawButton />\n                  }\n                </div>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}