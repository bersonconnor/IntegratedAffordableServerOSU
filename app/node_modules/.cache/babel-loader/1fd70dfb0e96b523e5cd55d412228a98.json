{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.triggerHiddenForm = exports.promptToSaveBlob = undefined;\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // a case when we need to silently download a file using Javascript, and prompt to save it afterwards\n\n\nfunction promptToSaveBlob(_ref) {\n  var content = _ref.content,\n      name = _ref.name,\n      downloadUrl = _ref.downloadUrl;\n\n  if (downloadUrl) {\n    var iframeId = 'oc-fm--filemanager-download-iframe';\n    var iframeDOMNode = document.getElementById(iframeId);\n\n    if (!iframeDOMNode) {\n      iframeDOMNode = document.createElement('iframe');\n      iframeDOMNode.style.display = 'none';\n      iframeDOMNode.id = iframeId;\n      document.body.appendChild(iframeDOMNode);\n    }\n\n    iframeDOMNode.src = downloadUrl;\n  } else {\n    var blob = new Blob([content], {\n      type: 'octet/stream'\n    });\n\n    _fileSaver2.default.saveAs(blob, name);\n  }\n} // a case when we trigger a direct download in browser\n// used in google drive' connector\n\n\nfunction triggerHiddenForm(_ref2) {\n  var downloadUrl = _ref2.downloadUrl,\n      _ref2$target = _ref2.target,\n      target = _ref2$target === undefined ? '_self' : _ref2$target;\n  var form = document.createElement(\"form\");\n  form.action = downloadUrl;\n  form.target = target;\n  form.method = 'GET';\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\n\nexports.promptToSaveBlob = promptToSaveBlob;\nexports.triggerHiddenForm = triggerHiddenForm;","map":{"version":3,"sources":["/home/ubuntu/Connor/WorkOSU/node_modules/@opuscapita/react-filemanager-connector-node-v1/lib/utils/download.js"],"names":["Object","defineProperty","exports","value","triggerHiddenForm","promptToSaveBlob","undefined","_fileSaver","require","_fileSaver2","_interopRequireDefault","obj","__esModule","default","_ref","content","name","downloadUrl","iframeId","iframeDOMNode","document","getElementById","createElement","style","display","id","body","appendChild","src","blob","Blob","type","saveAs","_ref2","_ref2$target","target","form","action","method","submit","removeChild"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,iBAAR,GAA4BF,OAAO,CAACG,gBAAR,GAA2BC,SAAvD;;AAEA,IAAIC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIC,WAAW,GAAGC,sBAAsB,CAACH,UAAD,CAAxC;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD,C,CAE/F;;;AACA,SAASN,gBAAT,CAA0BS,IAA1B,EAAgC;AAC9B,MAAIC,OAAO,GAAGD,IAAI,CAACC,OAAnB;AAAA,MACIC,IAAI,GAAGF,IAAI,CAACE,IADhB;AAAA,MAEIC,WAAW,GAAGH,IAAI,CAACG,WAFvB;;AAIA,MAAIA,WAAJ,EAAiB;AACf,QAAIC,QAAQ,GAAG,oCAAf;AACA,QAAIC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,QAAxB,CAApB;;AAEA,QAAI,CAACC,aAAL,EAAoB;AAClBA,MAAAA,aAAa,GAAGC,QAAQ,CAACE,aAAT,CAAuB,QAAvB,CAAhB;AACAH,MAAAA,aAAa,CAACI,KAAd,CAAoBC,OAApB,GAA8B,MAA9B;AACAL,MAAAA,aAAa,CAACM,EAAd,GAAmBP,QAAnB;AACAE,MAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,aAA1B;AACD;;AAEDA,IAAAA,aAAa,CAACS,GAAd,GAAoBX,WAApB;AACD,GAZD,MAYO;AACL,QAAIY,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACf,OAAD,CAAT,EAAoB;AAAEgB,MAAAA,IAAI,EAAE;AAAR,KAApB,CAAX;;AACAtB,IAAAA,WAAW,CAACI,OAAZ,CAAoBmB,MAApB,CAA2BH,IAA3B,EAAiCb,IAAjC;AACD;AACF,C,CAED;AACA;;;AACA,SAASZ,iBAAT,CAA2B6B,KAA3B,EAAkC;AAChC,MAAIhB,WAAW,GAAGgB,KAAK,CAAChB,WAAxB;AAAA,MACIiB,YAAY,GAAGD,KAAK,CAACE,MADzB;AAAA,MAEIA,MAAM,GAAGD,YAAY,KAAK5B,SAAjB,GAA6B,OAA7B,GAAuC4B,YAFpD;AAIA,MAAIE,IAAI,GAAGhB,QAAQ,CAACE,aAAT,CAAuB,MAAvB,CAAX;AACAc,EAAAA,IAAI,CAACC,MAAL,GAAcpB,WAAd;AACAmB,EAAAA,IAAI,CAACD,MAAL,GAAcA,MAAd;AACAC,EAAAA,IAAI,CAACE,MAAL,GAAc,KAAd;AAEAlB,EAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BS,IAA1B;AACAA,EAAAA,IAAI,CAACG,MAAL;AACAnB,EAAAA,QAAQ,CAACM,IAAT,CAAcc,WAAd,CAA0BJ,IAA1B;AACD;;AAEDlC,OAAO,CAACG,gBAAR,GAA2BA,gBAA3B;AACAH,OAAO,CAACE,iBAAR,GAA4BA,iBAA5B","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.triggerHiddenForm = exports.promptToSaveBlob = undefined;\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// a case when we need to silently download a file using Javascript, and prompt to save it afterwards\nfunction promptToSaveBlob(_ref) {\n  var content = _ref.content,\n      name = _ref.name,\n      downloadUrl = _ref.downloadUrl;\n\n  if (downloadUrl) {\n    var iframeId = 'oc-fm--filemanager-download-iframe';\n    var iframeDOMNode = document.getElementById(iframeId);\n\n    if (!iframeDOMNode) {\n      iframeDOMNode = document.createElement('iframe');\n      iframeDOMNode.style.display = 'none';\n      iframeDOMNode.id = iframeId;\n      document.body.appendChild(iframeDOMNode);\n    }\n\n    iframeDOMNode.src = downloadUrl;\n  } else {\n    var blob = new Blob([content], { type: 'octet/stream' });\n    _fileSaver2.default.saveAs(blob, name);\n  }\n}\n\n// a case when we trigger a direct download in browser\n// used in google drive' connector\nfunction triggerHiddenForm(_ref2) {\n  var downloadUrl = _ref2.downloadUrl,\n      _ref2$target = _ref2.target,\n      target = _ref2$target === undefined ? '_self' : _ref2$target;\n\n  var form = document.createElement(\"form\");\n  form.action = downloadUrl;\n  form.target = target;\n  form.method = 'GET';\n\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\n\nexports.promptToSaveBlob = promptToSaveBlob;\nexports.triggerHiddenForm = triggerHiddenForm;"]},"metadata":{},"sourceType":"script"}