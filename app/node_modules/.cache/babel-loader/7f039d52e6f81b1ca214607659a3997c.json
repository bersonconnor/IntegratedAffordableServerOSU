{"ast":null,"code":"import _objectSpread from \"/home/ubuntu/Connor/WorkOSU/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/ubuntu/Connor/WorkOSU/app/src/pages/MainPages/Filemanager/filemanager/src/FMS.js\";\nimport React from \"react\";\nimport { FileManager, FileNavigator } from '../../../../../../../node_modules/@opuscapita/react-filemanager';\nimport Sidebar from './sidebar.js';\nimport connectorNodeV1 from '../../../../../../../node_modules/@opuscapita/react-filemanager-connector-node-v1';\nimport FileViewer from 'react-file-viewer';\nimport './FMS.css';\nimport Dropzone from './Dropzone.js';\nimport Modal from 'react-modal';\nimport ReactDOMServer from 'react-dom/server';\nimport './permissions.css'; //var api = require('../node_modules/@opuscapita/react-filemanager-connector-node-v1/lib/api.js');\n\nvar file = \"https://s3.us-east-2.amazonaws.com/gdemo.affordhealth.org/ECON+249+Roundtable+3.pdf\";\n\nvar apiOptions = _objectSpread(_objectSpread({}, connectorNodeV1.apiOptions), {}, {\n  apiRoot: 'http://localhost:3020' // Or you local Server Node V1 installation.\n  //apiRoot: 'http://18.206.14.34:3020'\n\n});\n\nvar count = 0;\n\nclass FMS extends React.Component {\n  constructor(props) {\n    super(props);\n    this.moveBar = this.moveBar.bind(this);\n    this.showDropUI = this.showDropUI.bind(this);\n    this.hideDropUI = this.hideDropUI.bind(this);\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.changeCurrId = this.changeCurrId.bind(this);\n    this.state = {\n      barClass: \"hideBar\",\n      managerClass: \"manager\",\n      dropZoneUI: \"\",\n      showModal: false,\n      currId: \"Lw\"\n    };\n  }\n\n  handleOpenModal() {\n    this.setState({\n      showModal: true\n    });\n  }\n\n  handleCloseModal() {\n    this.setState({\n      showModal: false\n    });\n  }\n\n  moveBar() {\n    if (this.state.barClass === \"active\") {\n      this.setState({\n        barClass: \"hideBar\",\n        managerClass: \"manager\"\n      });\n    } else {\n      this.setState({\n        barClass: \"active\",\n        managerClass: \"smallManager\"\n      });\n    }\n  }\n\n  showDropUI() {\n    count++;\n    this.setState({\n      dropZoneUI: \"overlayUI\"\n    });\n  }\n\n  hideDropUI(isDrop) {\n    count--;\n\n    if (count <= 0) {\n      this.setState({\n        dropZoneUI: \"\"\n      });\n\n      if (isDrop) {\n        this.changeCurrId();\n        var timeout = setTimeout(\"location.reload(true);\", 1000);\n      }\n    }\n  }\n\n  changeCurrId() {\n    this.setState({\n      currId: document.getElementById(\"currIdText\").innerHTML\n    });\n  }\n\n  render() {\n    var rc; // Global variable containing the current resource children\n\n    var isSelected = false; // Global variable that is true if a resource is selected and false otherwise\n\n    var djsConfigs = {\n      addRemoveLinks: false,\n      acceptedFiles: \".jpg, .pdf, .docx, .csv, .xslx, .png, .jpeg, .txt, .tif, .gif, .bmp, .mp4, .webm, .mp3\",\n      params: {\n        type: 'file',\n        parentId: this.state.currId\n      },\n      previewTemplate: ReactDOMServer.renderToStaticMarkup( /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }))\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"update_modal\",\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"uClose\",\n      className: \"close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, \"Permission Manager\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"styled-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 16\n      }\n    }, \"The permissions of \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"file_lb2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 42\n      }\n    })), \" have been updated. \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 89\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"user_lb2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 92\n      }\n    })), \" can now \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 128\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"perm_lb2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 131\n      }\n    })), \".\")))), /*#__PURE__*/React.createElement(\"div\", {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"nbutton\",\n      id: \"closeBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 26\n      }\n    }, \"Close\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"confirmation_modal\",\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"cClose\",\n      className: \"close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, \"Permission Manager\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"styled-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, \"Do you really want to give \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"user_lb1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 43\n      }\n    }, \"USER\")), \" the ability to \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 96\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"permissions_lb1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 99\n      }\n    }, \"PERMISSIONS\")), \" the file named \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 166\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"file_lb1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 169\n      }\n    }, \"FILE\")), \"?\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"yesbutton\",\n      id: \"yesBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 4\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"nobutton\",\n      id: \"noBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, \"No\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"permissions_modal\",\n      className: \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 2\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"pClose\",\n      className: \"close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 6\n      }\n    }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 6\n      }\n    }, \"Permission Manager\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"styled-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, \"File(s)\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"styled-tb\",\n      id: \"file_tb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 4\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 18\n      }\n    }, \"User\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"styled-select\",\n      id: \"user_dd\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }\n    }, \"Select...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"User 1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 5\n      }\n    }, \"User 1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"User 2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }\n    }, \"User 2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"User 3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }\n    }, \"User 3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"User 4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 5\n      }\n    }, \"User 4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"User 5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }\n    }, \"User 5\")))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 26\n      }\n    }, \"Permissions\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"styled-cb\",\n      id: \"update_delete_cb\",\n      type: \"checkbox\",\n      name: \"Update and Delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 4\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-cb-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 4\n      }\n    }, \"Update and Delete\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"styled-cb\",\n      id: \"view_copy_cb\",\n      type: \"checkbox\",\n      name: \"View and Copy\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-cb-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 4\n      }\n    }, \"View and Copy\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"styled-cb\",\n      id: \"granting_cb\",\n      type: \"checkbox\",\n      name: \"Grant Other Users Permissions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"styled-cb-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 4\n      }\n    }, \"Grant Other Users Permissions\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"pbutton\",\n      id: \"updateBtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, \"Update\")))), /*#__PURE__*/React.createElement(FileManager, {\n      className: this.state.managerClass,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(FileNavigator, {\n      id: \"filemanager-1\",\n      api: connectorNodeV1.api,\n      apiOptions: apiOptions // Adding the permissions button\n      ,\n      capabilities: (apiOptions, actions) => [...connectorNodeV1.capabilities(apiOptions, actions), {\n        id: 'permission-button',\n        icon: {\n          svg: '<svg viewBox=\"0 0 120 120\" version=\"1.1\"><img src=\"./lock.png /></svg>'\n        },\n\n        /*icon: {\n         \tsvg: '<svg viewBox=\"0 0 120 120\" version=\"1.1\"><circle cx=\"60\" cy=\"60\" r=\"50\"></circle></svg>'\n        },*/\n        label: 'Permissions',\n        shouldBeAvailable: () => isSelected,\n        availableInContexts: ['toolbar'],\n        handler: () => {\n          // Get elements on the modals\n          var pModal = document.getElementById(\"permissions_modal\");\n          var cModal = document.getElementById(\"confirmation_modal\");\n          var uModal = document.getElementById(\"update_modal\");\n          var pSpan = document.getElementById(\"pClose\");\n          var cSpan = document.getElementById(\"cClose\");\n          var uSpan = document.getElementById(\"uClose\");\n          var uBtn = document.getElementById(\"updateBtn\");\n          var nBtn = document.getElementById(\"noBtn\");\n          var yBtn = document.getElementById(\"yesBtn\");\n          var cBtn = document.getElementById(\"closeBtn\");\n          var fileTB = document.getElementById(\"file_tb\");\n          var fileLB1 = document.getElementById(\"file_lb1\");\n          var fileLB2 = document.getElementById(\"file_lb2\");\n          var userDD = document.getElementById(\"user_dd\");\n          var userLB1 = document.getElementById(\"user_lb1\");\n          var userLB2 = document.getElementById(\"user_lb2\");\n          var udCB = document.getElementById(\"update_delete_cb\");\n          var vcCB = document.getElementById(\"view_copy_cb\");\n          var gCB = document.getElementById(\"granting_cb\");\n          var permLB1 = document.getElementById(\"permissions_lb1\");\n          var permLB2 = document.getElementById(\"perm_lb2\"); // Make modal appear if button pressed\n\n          pModal.style.display = \"block\"; // When the user clicks on <span> (x), close the modals\n\n          pSpan.onclick = function () {\n            isSelected = false;\n            pModal.style.display = \"none\";\n          };\n\n          cSpan.onclick = function () {\n            isSelected = false;\n            cModal.style.display = \"none\";\n          };\n\n          uSpan.onclick = function () {\n            isSelected = false;\n            uModal.style.display = \"none\";\n          }; // When the user clicks anywhere outside of the modals, close it\n\n\n          window.onclick = function (event) {\n            isSelected = false;\n\n            if (event.target == pModal) {\n              pModal.style.display = \"none\";\n            }\n\n            if (event.target == cModal) {\n              cModal.style.display = \"none\";\n            }\n\n            if (event.target == uModal) {\n              uModal.style.display = \"none\";\n            }\n          }; // When the user presses update button, close permissions_modal and open confirmation_modal\n\n\n          uBtn.onclick = function () {\n            pModal.style.display = \"none\";\n            cModal.style.display = \"block\";\n            fileLB1.innerHTML = fileTB.value;\n            fileLB2.innerHTML = fileTB.value;\n            userLB1.innerHTML = userDD.value;\n            userLB2.innerHTML = userDD.value;\n            var permStr = \"\";\n            var and = \", and \";\n            var comma = \", \";\n            var isMulti = false;\n\n            if (udCB.checked) {\n              permStr += udCB.name;\n              isMulti = true;\n            }\n\n            if (vcCB.checked) {\n              if (isMulti) {\n                if (gCB.checked) {\n                  permStr += comma;\n                } else {\n                  permStr += and;\n                }\n              }\n\n              permStr += vcCB.name;\n              isMulti = true;\n            }\n\n            if (gCB.checked) {\n              if (isMulti) {\n                permStr += and;\n              }\n\n              permStr += gCB.name;\n            }\n\n            permLB1.innerHTML = permStr;\n            permLB2.innerHTML = permStr;\n          }; // When the user presses the no button, go back to permissions_modal\n\n\n          nBtn.onclick = function () {\n            pModal.style.display = \"block\";\n            cModal.style.display = \"none\";\n          }; // When the user presses the yes button, give alert that it has been updated\n\n\n          yBtn.onclick = function () {\n            cModal.style.display = \"none\";\n            uModal.style.display = \"block\";\n          }; // When the user closes the update message, close the message\n\n\n          cBtn.onclick = function () {\n            uModal.style.display = \"none\";\n          };\n        }\n      }],\n      listViewLayout: connectorNodeV1.listViewLayout,\n      viewLayoutOptions: connectorNodeV1.viewLayoutOptions,\n      className: this.state.dropZoneUI,\n      onSelectionChange: selection => {\n        // Get the number of items selected. Set isSelected to true if there are any selected items and false otherwise.\n        var numIds = selection.length;\n        isSelected = numIds > 0;\n        console.log('selection.length', numIds);\n        console.log('isSelected', isSelected); // Get permission modals and their current display type\n\n        var pModal = document.getElementById(\"permissions_modal\");\n        var psd = pModal.style.display;\n        var cModal = document.getElementById(\"confirmation_modal\");\n        var csd = cModal.style.display;\n        var uModal = document.getElementById(\"update_modal\");\n        var usd = uModal.style.display; // If all the permission related modals are not dispalying\n\n        if ((psd === \"none\" || psd === \"\") && (csd === \"none\" || csd === \"\") && (usd === \"none\" || usd === \"\")) {\n          // Print the resource children and the current selection\n          console.log('rc', rc);\n          console.log('onSelectionChange', selection); // Find the filename of the first selection by iterating over resource children\n\n          var name = \"\";\n          var idsFound = 0;\n\n          for (var key in rc) {\n            // Get the resource using the key\n            var r = rc[key]; // Print the current resource\n\n            console.log('resource', r);\n\n            if (selection.includes(r.id)) {\n              idsFound += 1; // if the first id is found, just add the name\n\n              if (idsFound == 1) {\n                name = r.name;\n              } // else add the name with a comma\n              else {\n                  name += \", \" + r.name;\n                } // if all ids are found, we are done\n\n\n              if (idsFound == numIds) {\n                break;\n              }\n            }\n          } // Set the text box to the name\n\n\n          var fileTB = document.getElementById(\"file_tb\");\n          fileTB.disabled = false;\n          fileTB.value = name;\n          fileTB.disabled = true;\n        }\n      },\n      onResourceChildrenChange: resourceChildren => {\n        // When the resourceChildren are loaded in store then in global variable for use\n        console.log('onResourceChildrenChange', resourceChildren);\n        rc = resourceChildren;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: this.state.showModal,\n      contentLabel: \"onRequestClose Example\",\n      onRequestClose: this.handleCloseModal,\n      className: \"Modal\",\n      overlayClassName: \"Overlay\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      className: \"view\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FileViewer, {\n      fileType: \"pdf\",\n      filePath: file,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Dropzone, {\n      onDrag: () => this.showDropUI(),\n      onDragExit: () => this.hideDropUI(false),\n      onDrop: () => this.hideDropUI(true),\n      djsConfig: djsConfigs,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"hideBar\",\n      id: \"clickButton\",\n      onClick: () => {\n        this.handleOpenModal();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hideBar\",\n      id: \"currIdText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default FMS;\nconsole.log(\"FMS EXPORTED\");","map":{"version":3,"sources":["/home/ubuntu/Connor/WorkOSU/app/src/pages/MainPages/Filemanager/filemanager/src/FMS.js"],"names":["React","FileManager","FileNavigator","Sidebar","connectorNodeV1","FileViewer","Dropzone","Modal","ReactDOMServer","file","apiOptions","apiRoot","count","FMS","Component","constructor","props","moveBar","bind","showDropUI","hideDropUI","handleOpenModal","handleCloseModal","changeCurrId","state","barClass","managerClass","dropZoneUI","showModal","currId","setState","isDrop","timeout","setTimeout","document","getElementById","innerHTML","render","rc","isSelected","djsConfigs","addRemoveLinks","acceptedFiles","params","type","parentId","previewTemplate","renderToStaticMarkup","api","actions","capabilities","id","icon","svg","label","shouldBeAvailable","availableInContexts","handler","pModal","cModal","uModal","pSpan","cSpan","uSpan","uBtn","nBtn","yBtn","cBtn","fileTB","fileLB1","fileLB2","userDD","userLB1","userLB2","udCB","vcCB","gCB","permLB1","permLB2","style","display","onclick","window","event","target","value","permStr","and","comma","isMulti","checked","name","listViewLayout","viewLayoutOptions","selection","numIds","length","console","log","psd","csd","usd","idsFound","key","r","includes","disabled","resourceChildren"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { FileManager, FileNavigator } from '../../../../../../../node_modules/@opuscapita/react-filemanager';\nimport Sidebar from './sidebar.js'\nimport connectorNodeV1 from '../../../../../../../node_modules/@opuscapita/react-filemanager-connector-node-v1';\nimport FileViewer from 'react-file-viewer';\nimport './FMS.css';\nimport Dropzone from './Dropzone.js'\nimport Modal from 'react-modal';\nimport ReactDOMServer from 'react-dom/server'\nimport './permissions.css';\n\n//var api = require('../node_modules/@opuscapita/react-filemanager-connector-node-v1/lib/api.js');\nconst file = \"https://s3.us-east-2.amazonaws.com/gdemo.affordhealth.org/ECON+249+Roundtable+3.pdf\";\n\nconst apiOptions = {\n  ...connectorNodeV1.apiOptions,\n  apiRoot: 'http://localhost:3020' // Or you local Server Node V1 installation.\n  //apiRoot: 'http://18.206.14.34:3020'\n}\n\nvar count = 0;\n\nclass FMS extends React.Component {\n  constructor(props) {\n    super(props);\n    this.moveBar = this.moveBar.bind(this);\n    this.showDropUI = this.showDropUI.bind(this);\n    this.hideDropUI = this.hideDropUI.bind(this);\n    this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n    this.changeCurrId = this.changeCurrId.bind(this);\n    this.state = {\n      barClass: \"hideBar\",\n      managerClass: \"manager\",\n      dropZoneUI: \"\",\n      showModal: false,\n      currId: \"Lw\"\n    };\n  }\n\n  handleOpenModal () {\n    this.setState({ showModal: true });\n  }\n\n  handleCloseModal () {\n    this.setState({ showModal: false });\n  }\n\n  moveBar() {\n      if (this.state.barClass === \"active\") {\n        this.setState({\n          barClass: \"hideBar\",\n          managerClass: \"manager\"\n        });\n      }\n      else {\n        this.setState({\n          barClass: \"active\",\n          managerClass: \"smallManager\"\n        });\n      }\n  }\n\n  showDropUI() {\n    count++;\n      this.setState({\n        dropZoneUI: \"overlayUI\"\n    });\n  }\n\n  hideDropUI(isDrop) {\n    count--;\n    if(count <= 0) {\n      this.setState({\n        dropZoneUI: \"\"\n      });\n      if(isDrop) {\n         this.changeCurrId();\n         var timeout = setTimeout(\"location.reload(true);\",1000);\n      }\n    }\n  }\n\n  changeCurrId() {\n    this.setState({\n      currId: document.getElementById(\"currIdText\").innerHTML\n    });\n  }\n\n\n  render() {\n    var rc; // Global variable containing the current resource children\n    var isSelected = false; // Global variable that is true if a resource is selected and false otherwise\n    var djsConfigs = {\n        addRemoveLinks: false,\n        acceptedFiles: \".jpg, .pdf, .docx, .csv, .xslx, .png, .jpeg, .txt, .tif, .gif, .bmp, .mp4, .webm, .mp3\",\n        params: {\n            type: 'file',\n            parentId: this.state.currId,\n        },\n        previewTemplate: ReactDOMServer.renderToStaticMarkup(\n            <div >\n              {/* <div className=\"dz-details\">\n\n                <div className=\"dz-filename\"><span data-dz-name=\"true\"></span></div>\n\n                <img data-dz-thumbnail=\"true\" />\n\n              </div>\n\n              <div className=\"dz-progress\"><span className=\"dz-upload\" data-dz-uploadprogress=\"true\"></span></div>\n\n              <div className=\"dz-success-mark\"><span>✔</span></div>\n\n              <div className=\"dz-error-mark\"><span>✘</span></div>\n\n              <div className=\"dz-error-message\"><span data-dz-errormessage=\"true\"></span></div> */}\n\n            </div>\n          )\n    };\n\n    return (\n      <div className=\"App\">\n\t<div id=\"update_modal\" className={\"modal\"}>\n\t   <div className={\"modal-content\"}>\n\t     <span id=\"uClose\" className={\"close\"}>&times;</span>\n\t     <h1>Permission Manager</h1>\n\t     <hr/>\n\t     <table className={\"styled-table\"}>\n        \t<tr>\n\t           <td>\n        \t      <h4>The permissions of <b><label id=\"file_lb2\" /></b> have been updated. <b><label id=\"user_lb2\" /></b> can now <b><label id=\"perm_lb2\" /></b>.</h4>\n\t           </td>\n        \t</tr>\n\t     </table>\n\t     <div align=\"right\"><button className={\"nbutton\"} id=\"closeBtn\">Close</button></div>\n\t   </div>\n\t</div>\n\n\t<div id=\"confirmation_modal\" className={\"modal\"}>\n\t   <div className={\"modal-content\"}>\n\t     <span id=\"cClose\" className={\"close\"}>&times;</span>\n\t     <h1>Permission Manager</h1>\n\t     <hr/>\n\t     <table className={\"styled-table\"}>\n        \t<tr>\n\t           <td>\n\t\t      <h4>Do you really want to give <b><label id=\"user_lb1\">USER</label></b> the ability to <b><label id=\"permissions_lb1\">PERMISSIONS</label></b> the file named <b><label id=\"file_lb1\">FILE</label></b>?</h4>\n\t           </td>\n        \t</tr>\n\t\t<tr>\n\t\t   <td align=\"right\">\n\t\t\t<button className={\"yesbutton\"} id=\"yesBtn\">Yes</button>\n\t\t   \t<button className={\"nobutton\"} id=\"noBtn\">No</button>\n\t\t   </td>\n\t\t</tr>\n\t     </table>\n\t   </div>\n\t</div>\n\n\t<div id=\"permissions_modal\" className={\"modal\"}>\n\t  <div className={\"modal-content\"}>\n\t    <span id=\"pClose\" className={\"close\"}>&times;</span>\n\t    <h1>Permission Manager</h1>\n\t    <hr/>\n\t    <table className={\"styled-table\"}>\n        \t<tr>\n                \t<td>\n\t\t       \t<h4>File(s)</h4>\n\t\t\t<input className={\"styled-tb\"} id=\"file_tb\" />\n                \t</td>\n\t        </tr>\n        \t<tr>\n                \t<td>\n\t                <h4>User</h4>\n        \t        <select className={\"styled-select\"} id=\"user_dd\" >\n\t\t\t\t<option value=\"\">Select...</option>\n\t\t\t\t<option value=\"User 1\">User 1</option>\n\t\t\t\t<option value=\"User 2\">User 2</option>\n\t\t\t\t<option value=\"User 3\">User 3</option>\n\t\t\t\t<option value=\"User 4\">User 4</option>\n\t\t\t\t<option value=\"User 5\">User 5</option>\n\t\t\t</select>\n                \t</td>\n\t        </tr>\n\t\t<tr>\n\t\t\t<td>\n                        \t<h4>Permissions</h4>\n\t                </td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<input className={\"styled-cb\"} id=\"update_delete_cb\" type=\"checkbox\" name=\"Update and Delete\"/>\n\t\t\t<div className={\"styled-cb-label\"}>\n\t\t\t     Update and Delete\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t        <tr>\n        \t        <td>\n                \t<input className={\"styled-cb\"} id=\"view_copy_cb\" type=\"checkbox\" name=\"View and Copy\"/>\n\t\t\t<div className={\"styled-cb-label\"} >\n        \t             View and Copy\n                \t</div>\n\t                </td>\n        \t</tr>\n\t        <tr>\n        \t        <td>\n                \t<input className={\"styled-cb\"} id=\"granting_cb\" type=\"checkbox\" name=\"Grant Other Users Permissions\"/>\n\t\t\t<div className={\"styled-cb-label\"} >\n        \t             Grant Other Users Permissions\n                \t</div>\n\t                </td>\n        \t</tr>\n\t\t<tr><td></td></tr>\n\t    </table>\n\t    <div align=\"right\"><button className={\"pbutton\"} id=\"updateBtn\">Update</button></div>\n\t  </div>\n\t</div>\n\t <FileManager className = {this.state.managerClass}>\n            <FileNavigator\n              id=\"filemanager-1\"\n              api={connectorNodeV1.api}\n              apiOptions={apiOptions}\n              // Adding the permissions button\n\t      capabilities={(apiOptions, actions) => ([\n\t        \t...(connectorNodeV1.capabilities(apiOptions, actions)),\n        \t\t({\n          \t\tid: 'permission-button',\n\t\t\ticon: {\n                        svg: '<svg viewBox=\"0 0 120 120\" version=\"1.1\"><img src=\"./lock.png /></svg>'\n                        },\n        \t  \t/*icon: {\n\t            \tsvg: '<svg viewBox=\"0 0 120 120\" version=\"1.1\"><circle cx=\"60\" cy=\"60\" r=\"50\"></circle></svg>'\n        \t  \t},*/\n\t          \tlabel: 'Permissions',\n          \t\tshouldBeAvailable: () => isSelected,\n        \t  \tavailableInContexts: ['toolbar'],\n\t          \thandler: () => {\n\t\t\t\t// Get elements on the modals\n\t\t\t\tvar pModal = document.getElementById(\"permissions_modal\");\n\t\t\t\tvar cModal = document.getElementById(\"confirmation_modal\");\n\t\t\t\tvar uModal = document.getElementById(\"update_modal\");\n\n\t\t\t\tvar pSpan = document.getElementById(\"pClose\");\n\t\t\t\tvar cSpan = document.getElementById(\"cClose\");\n\t\t\t\tvar uSpan = document.getElementById(\"uClose\");\n\n\t\t\t\tvar uBtn = document.getElementById(\"updateBtn\");\n\t\t\t\tvar nBtn = document.getElementById(\"noBtn\");\n\t\t\t\tvar yBtn = document.getElementById(\"yesBtn\");\n\t\t\t\tvar cBtn = document.getElementById(\"closeBtn\");\n\n\t\t\t\tvar fileTB = document.getElementById(\"file_tb\");\n\t\t\t\tvar fileLB1 = document.getElementById(\"file_lb1\");\n\t\t\t\tvar fileLB2 = document.getElementById(\"file_lb2\");\n\t\t\t\tvar userDD = document.getElementById(\"user_dd\");\n\t\t\t\tvar userLB1 = document.getElementById(\"user_lb1\");\n\t\t\t\tvar userLB2 = document.getElementById(\"user_lb2\");\n\t\t\t\tvar udCB = document.getElementById(\"update_delete_cb\");\n\t\t\t\tvar vcCB = document.getElementById(\"view_copy_cb\");\n\t\t\t\tvar gCB = document.getElementById(\"granting_cb\");\n\t\t\t\tvar permLB1 = document.getElementById(\"permissions_lb1\");\n\t\t\t\tvar permLB2 = document.getElementById(\"perm_lb2\");\n\n\t\t\t\t// Make modal appear if button pressed\n\t\t\t\tpModal.style.display = \"block\";\n\n\t\t\t\t// When the user clicks on <span> (x), close the modals\n\t\t\t\tpSpan.onclick = function() {\n\t\t\t\t  isSelected = false;\n\t\t\t\t  pModal.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\tcSpan.onclick = function() {\n\t\t\t\t  isSelected = false;\n\t\t\t\t  cModal.style.display = \"none\";\n\t\t\t\t}\n\t\t\t\tuSpan.onclick = function() {\n\t\t\t\t  isSelected = false;\n\t\t\t\t  uModal.style.display = \"none\";\n\t\t\t\t}\n\n\t\t\t\t// When the user clicks anywhere outside of the modals, close it\n\t\t\t\twindow.onclick = function(event) {\n\t\t\t\t  isSelected = false;\n\t\t\t\t  if (event.target == pModal) {\n\t\t\t\t   pModal.style.display = \"none\";\n\t\t\t\t  }\n\t\t\t\t  if (event.target == cModal) {\n\t\t\t\t   cModal.style.display = \"none\";\n\t\t\t\t  }\n\t\t\t\t  if (event.target == uModal) {\n\t\t\t\t   uModal.style.display = \"none\";\n\t\t\t\t  }\n\t\t\t\t}\n\n\t\t\t\t// When the user presses update button, close permissions_modal and open confirmation_modal\n\t\t\t\tuBtn.onclick = function() {\n\t\t\t\t\tpModal.style.display = \"none\";\n\t\t\t\t\tcModal.style.display = \"block\";\n\t\t\t\t\tfileLB1.innerHTML = fileTB.value;\n\t\t\t\t\tfileLB2.innerHTML = fileTB.value;\n\t\t\t\t\tuserLB1.innerHTML = userDD.value;\n\t\t\t\t\tuserLB2.innerHTML = userDD.value;\n\n\t\t\t\t\tvar permStr = \"\";\n\t\t\t\t\tvar and = \", and \";\n\t\t\t\t\tvar comma = \", \";\n\t\t\t\t\tvar isMulti = false;\n\t\t\t\t\tif (udCB.checked) {\n\t\t\t\t\t\tpermStr += udCB.name;\n\t\t\t\t\t\tisMulti = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (vcCB.checked) {\n\t\t\t\t\t\tif (isMulti) {\n\t\t\t\t\t\t\tif (gCB.checked) {\n\t\t\t\t\t\t\t\tpermStr += comma;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tpermStr += and;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpermStr += vcCB.name;\n\t\t\t\t\t\tisMulti = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (gCB.checked) {\n\t                                        if (isMulti) {\n        \t                                        permStr += and;\n                                                }\n                                                permStr += gCB.name;\n\t\t\t\t\t}\n\t\t\t\t\tpermLB1.innerHTML = permStr;\n\t\t\t\t\tpermLB2.innerHTML = permStr;\n\t\t\t\t}\n\t\t\t\t// When the user presses the no button, go back to permissions_modal\n\t\t\t\tnBtn.onclick = function() {\n\t\t\t\t\tpModal.style.display = \"block\";\n\t\t\t\t\tcModal.style.display = \"none\";\n\t\t\t\t}\n\n\t\t\t\t// When the user presses the yes button, give alert that it has been updated\n\t\t\t\tyBtn.onclick = function() {\n\t\t\t\t\tcModal.style.display = \"none\";\n\t\t\t\t\tuModal.style.display = \"block\";\n\t\t\t\t}\n\n\t\t\t\t// When the user closes the update message, close the message\n\t\t\t\tcBtn.onclick = function() {\n\t\t\t\t\tuModal.style.display = \"none\";\n\t\t\t\t}\n\t\t\t}\n        \t\t})\n      \t\t])}\n              listViewLayout={connectorNodeV1.listViewLayout}\n              viewLayoutOptions={connectorNodeV1.viewLayoutOptions}\n              className = {this.state.dropZoneUI}\n\t     onSelectionChange={\n\t\t selection => {\n\t\t\t// Get the number of items selected. Set isSelected to true if there are any selected items and false otherwise.\n\t\t\tvar numIds = selection.length;\n\t\t\tisSelected = numIds > 0;\n\t\t\tconsole.log('selection.length', numIds);\n\t\t\tconsole.log('isSelected', isSelected);\n\n\t\t\t// Get permission modals and their current display type\n\t\t\tvar pModal = document.getElementById(\"permissions_modal\");\n\t\t\tvar psd = pModal.style.display;\n\t\t\tvar cModal = document.getElementById(\"confirmation_modal\");\n\t\t\tvar csd = cModal.style.display;\n\t\t\tvar uModal = document.getElementById(\"update_modal\");\n\t\t\tvar usd = uModal.style.display;\n\n\t\t\t// If all the permission related modals are not dispalying\n\t\t\tif ((psd === \"none\" || psd === \"\") && (csd === \"none\" || csd === \"\") && (usd === \"none\" || usd === \"\")) {\n\t\t\t\t// Print the resource children and the current selection\n\t\t\t\tconsole.log('rc', rc);\n\t\t\t\tconsole.log('onSelectionChange', selection);\n\n\t\t\t\t// Find the filename of the first selection by iterating over resource children\n\t\t\t\tvar name = \"\";\n\t\t\t\tvar idsFound = 0;\n\t\t\t\tfor (var key in rc) {\n\t\t\t\t\t// Get the resource using the key\n\t\t\t\t\tvar r = rc[key];\n\t\t\t\t\t// Print the current resource\n\t\t\t\t\tconsole.log('resource', r);\n\t\t\t\t\tif (selection.includes(r.id)) {\n\t\t\t\t\t\tidsFound += 1;\n\t\t\t\t\t\t// if the first id is found, just add the name\n\t\t\t\t\t\tif (idsFound == 1) {\n\t\t\t\t\t\t\tname = r.name;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// else add the name with a comma\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tname += (\", \" + r.name);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if all ids are found, we are done\n\t\t\t\t\t\tif (idsFound == numIds) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set the text box to the name\n\t\t\t\tvar fileTB = document.getElementById(\"file_tb\");\n\t\t\t\tfileTB.disabled = false;\n\t\t\t\tfileTB.value = name;\n\t\t\t\tfileTB.disabled = true;\n\t\t\t}\n\t\t}\n           }\n\t   onResourceChildrenChange={\n\t\tresourceChildren=> {\n\t\t\t// When the resourceChildren are loaded in store then in global variable for use\n\t\t\tconsole.log('onResourceChildrenChange', resourceChildren);\n\t\t\trc = resourceChildren;\n\t\t}\n\t   }\n\t   />\n          </FileManager>\n        <Modal\n           isOpen={this.state.showModal}\n           contentLabel=\"onRequestClose Example\"\n           onRequestClose={this.handleCloseModal}\n           className=\"Modal\"\n           overlayClassName=\"Overlay\"\n        >\n          <center className = \"view\">\n            <FileViewer\n              fileType={\"pdf\"}\n              filePath={file}\n            />\n          </center>\n          </Modal>\n        <Dropzone\n         onDrag = {() => this.showDropUI()}\n         onDragExit = {() => this.hideDropUI(false)}\n         onDrop = {() => this.hideDropUI(true)}\n         djsConfig = {djsConfigs}\n        />\n        <button className = \"hideBar\" id =\"clickButton\" onClick = {() => {this.handleOpenModal()}}>\n        </button>\n        <div className = \"hideBar\" id =\"currIdText\">\n        </div>\n      </div>\n\t);\n    }\n}\n\nexport default FMS;\nconsole.log(\"FMS EXPORTED\");\n"]},"metadata":{},"sourceType":"module"}