{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _sanitizeFilename = require('sanitize-filename');\n\nvar _sanitizeFilename2 = _interopRequireDefault(_sanitizeFilename);\n\nvar _onFailError = require('../utils/onFailError');\n\nvar _onFailError2 = _interopRequireDefault(_onFailError);\n\nvar _iconsSvg = require('../icons-svg');\n\nvar _iconsSvg2 = _interopRequireDefault(_iconsSvg);\n\nvar _translations = require('../translations');\n\nvar _translations2 = _interopRequireDefault(_translations);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar label = 'createFolder';\n\nfunction _handler(apiOptions, actions) {\n  var _this = this;\n\n  var showDialog = actions.showDialog,\n      hideDialog = actions.hideDialog,\n      navigateToDir = actions.navigateToDir,\n      updateNotifications = actions.updateNotifications,\n      getResource = actions.getResource,\n      getNotifications = actions.getNotifications;\n\n  var getMessage = _translations2.default.bind(null, apiOptions.locale);\n\n  var rawDialogElement = {\n    elementType: 'SetNameDialog',\n    elementProps: {\n      onHide: hideDialog,\n      onSubmit: function () {\n        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(folderName) {\n          var resource, resourceChildren, alreadyExists, result;\n          return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  resource = getResource();\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return _api2.default.getChildrenForId(apiOptions, {\n                    id: resource.id\n                  });\n\n                case 4:\n                  resourceChildren = _context.sent;\n                  alreadyExists = resourceChildren.some(function (_ref2) {\n                    var name = _ref2.name;\n                    return name === folderName;\n                  });\n\n                  if (!alreadyExists) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  return _context.abrupt('return', getMessage('fileExist', {\n                    name: folderName\n                  }));\n\n                case 10:\n                  hideDialog();\n                  _context.next = 13;\n                  return _api2.default.createFolder(apiOptions, resource.id, folderName);\n\n                case 13:\n                  result = _context.sent;\n                  navigateToDir(resource.id, result.body.id, false);\n\n                case 15:\n                  return _context.abrupt('return', null);\n\n                case 18:\n                  _context.prev = 18;\n                  _context.t0 = _context['catch'](1);\n                  hideDialog();\n                  (0, _onFailError2.default)({\n                    getNotifications: getNotifications,\n                    label: getMessage(label),\n                    notificationId: label,\n                    updateNotifications: updateNotifications\n                  });\n                  console.log(_context.t0);\n                  return _context.abrupt('return', null);\n\n                case 24:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this, [[1, 18]]);\n        }));\n\n        return function onSubmit(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onValidate: function () {\n        var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(folderName) {\n          return _regenerator2.default.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (folderName) {\n                    _context2.next = 4;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('emptyName'));\n\n                case 4:\n                  if (!(folderName === 'CON')) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('doNotRespectBill'));\n\n                case 8:\n                  if (!(folderName.length >= 255)) {\n                    _context2.next = 12;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('tooLongFolderName'));\n\n                case 12:\n                  if (!(folderName.trim() !== (0, _sanitizeFilename2.default)(folderName.trim()))) {\n                    _context2.next = 14;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('folderNameNotAllowedCharacters'));\n\n                case 14:\n                  return _context2.abrupt('return', null);\n\n                case 15:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, _this);\n        }));\n\n        return function onValidate(_x2) {\n          return _ref3.apply(this, arguments);\n        };\n      }(),\n      inputLabelText: getMessage('folderName'),\n      headerText: getMessage('createFolder'),\n      submitButtonText: getMessage('create'),\n      cancelButtonText: getMessage('cancel')\n    }\n  };\n  showDialog(rawDialogElement);\n}\n\nexports.default = function (apiOptions, actions) {\n  var localeLabel = (0, _translations2.default)(apiOptions.locale, label);\n  var getResource = actions.getResource;\n  return {\n    id: label,\n    icon: {\n      svg: _iconsSvg2.default.createNewFolder\n    },\n    label: localeLabel,\n    shouldBeAvailable: function shouldBeAvailable(apiOptions) {\n      var resource = getResource();\n\n      if (!resource || !resource.capabilities) {\n        return false;\n      }\n\n      return resource.capabilities.canAddChildren;\n    },\n    availableInContexts: ['files-view', 'new-button'],\n    handler: function handler() {\n      return _handler(apiOptions, actions);\n    }\n  };\n};","map":{"version":3,"sources":["/home/ubuntu/Connor/WorkOSU/node_modules/@opuscapita/react-filemanager-connector-node-v1/lib/capabilities/create-folder.js"],"names":["Object","defineProperty","exports","value","_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","_api","_api2","_sanitizeFilename","_sanitizeFilename2","_onFailError","_onFailError2","_iconsSvg","_iconsSvg2","_translations","_translations2","obj","__esModule","default","label","_handler","apiOptions","actions","_this","showDialog","hideDialog","navigateToDir","updateNotifications","getResource","getNotifications","getMessage","bind","locale","rawDialogElement","elementType","elementProps","onHide","onSubmit","_ref","mark","_callee","folderName","resource","resourceChildren","alreadyExists","result","wrap","_callee$","_context","prev","next","getChildrenForId","id","sent","some","_ref2","name","abrupt","createFolder","body","t0","notificationId","console","log","stop","_x","apply","arguments","onValidate","_ref3","_callee2","_callee2$","_context2","length","trim","_x2","inputLabelText","headerText","submitButtonText","cancelButtonText","localeLabel","icon","svg","createNewFolder","shouldBeAvailable","capabilities","canAddChildren","availableInContexts","handler"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _sanitizeFilename = require('sanitize-filename');\n\nvar _sanitizeFilename2 = _interopRequireDefault(_sanitizeFilename);\n\nvar _onFailError = require('../utils/onFailError');\n\nvar _onFailError2 = _interopRequireDefault(_onFailError);\n\nvar _iconsSvg = require('../icons-svg');\n\nvar _iconsSvg2 = _interopRequireDefault(_iconsSvg);\n\nvar _translations = require('../translations');\n\nvar _translations2 = _interopRequireDefault(_translations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar label = 'createFolder';\n\nfunction _handler(apiOptions, actions) {\n  var _this = this;\n\n  var showDialog = actions.showDialog,\n      hideDialog = actions.hideDialog,\n      navigateToDir = actions.navigateToDir,\n      updateNotifications = actions.updateNotifications,\n      getResource = actions.getResource,\n      getNotifications = actions.getNotifications;\n\n\n  var getMessage = _translations2.default.bind(null, apiOptions.locale);\n\n  var rawDialogElement = {\n    elementType: 'SetNameDialog',\n    elementProps: {\n      onHide: hideDialog,\n      onSubmit: function () {\n        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(folderName) {\n          var resource, resourceChildren, alreadyExists, result;\n          return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  resource = getResource();\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return _api2.default.getChildrenForId(apiOptions, { id: resource.id });\n\n                case 4:\n                  resourceChildren = _context.sent;\n                  alreadyExists = resourceChildren.some(function (_ref2) {\n                    var name = _ref2.name;\n                    return name === folderName;\n                  });\n\n                  if (!alreadyExists) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  return _context.abrupt('return', getMessage('fileExist', { name: folderName }));\n\n                case 10:\n                  hideDialog();\n                  _context.next = 13;\n                  return _api2.default.createFolder(apiOptions, resource.id, folderName);\n\n                case 13:\n                  result = _context.sent;\n\n                  navigateToDir(resource.id, result.body.id, false);\n\n                case 15:\n                  return _context.abrupt('return', null);\n\n                case 18:\n                  _context.prev = 18;\n                  _context.t0 = _context['catch'](1);\n\n                  hideDialog();\n                  (0, _onFailError2.default)({\n                    getNotifications: getNotifications,\n                    label: getMessage(label),\n                    notificationId: label,\n                    updateNotifications: updateNotifications\n                  });\n                  console.log(_context.t0);\n                  return _context.abrupt('return', null);\n\n                case 24:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this, [[1, 18]]);\n        }));\n\n        return function onSubmit(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onValidate: function () {\n        var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(folderName) {\n          return _regenerator2.default.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (folderName) {\n                    _context2.next = 4;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('emptyName'));\n\n                case 4:\n                  if (!(folderName === 'CON')) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('doNotRespectBill'));\n\n                case 8:\n                  if (!(folderName.length >= 255)) {\n                    _context2.next = 12;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('tooLongFolderName'));\n\n                case 12:\n                  if (!(folderName.trim() !== (0, _sanitizeFilename2.default)(folderName.trim()))) {\n                    _context2.next = 14;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('folderNameNotAllowedCharacters'));\n\n                case 14:\n                  return _context2.abrupt('return', null);\n\n                case 15:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, _this);\n        }));\n\n        return function onValidate(_x2) {\n          return _ref3.apply(this, arguments);\n        };\n      }(),\n      inputLabelText: getMessage('folderName'),\n      headerText: getMessage('createFolder'),\n      submitButtonText: getMessage('create'),\n      cancelButtonText: getMessage('cancel')\n    }\n  };\n\n  showDialog(rawDialogElement);\n}\n\nexports.default = function (apiOptions, actions) {\n  var localeLabel = (0, _translations2.default)(apiOptions.locale, label);\n  var getResource = actions.getResource;\n\n  return {\n    id: label,\n    icon: { svg: _iconsSvg2.default.createNewFolder },\n    label: localeLabel,\n    shouldBeAvailable: function shouldBeAvailable(apiOptions) {\n      var resource = getResource();\n\n      if (!resource || !resource.capabilities) {\n        return false;\n      }\n\n      return resource.capabilities.canAddChildren;\n    },\n    availableInContexts: ['files-view', 'new-button'],\n    handler: function handler() {\n      return _handler(apiOptions, actions);\n    }\n  };\n};"]},"metadata":{},"sourceType":"script"}