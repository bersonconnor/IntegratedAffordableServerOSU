{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _sanitizeFilename = require('sanitize-filename');\n\nvar _sanitizeFilename2 = _interopRequireDefault(_sanitizeFilename);\n\nvar _onFailError = require('../utils/onFailError');\n\nvar _onFailError2 = _interopRequireDefault(_onFailError);\n\nvar _iconsSvg = require('../icons-svg');\n\nvar _iconsSvg2 = _interopRequireDefault(_iconsSvg);\n\nvar _translations = require('../translations');\n\nvar _translations2 = _interopRequireDefault(_translations);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar label = 'rename';\n\nfunction _handler(apiOptions, actions) {\n  var _this = this;\n\n  var showDialog = actions.showDialog,\n      hideDialog = actions.hideDialog,\n      navigateToDir = actions.navigateToDir,\n      updateNotifications = actions.updateNotifications,\n      getSelectedResources = actions.getSelectedResources,\n      getResource = actions.getResource,\n      getNotifications = actions.getNotifications;\n\n  var getMessage = _translations2.default.bind(null, apiOptions.locale);\n\n  var localeLabel = getMessage(label);\n  var rawDialogElement = {\n    elementType: 'SetNameDialog',\n    elementProps: {\n      initialValue: getSelectedResources()[0].name,\n      onHide: hideDialog,\n      onSubmit: function () {\n        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(name) {\n          var selectedResources, resourceChildren, alreadyExists, result, resource;\n          return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  selectedResources = getSelectedResources();\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return _api2.default.getChildrenForId(apiOptions, {\n                    id: selectedResources[0].parentId\n                  });\n\n                case 4:\n                  resourceChildren = _context.sent;\n                  alreadyExists = resourceChildren.some(function (o) {\n                    return o.name === name;\n                  });\n\n                  if (!alreadyExists) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  return _context.abrupt('return', getMessage('fileExist', {\n                    name: name\n                  }));\n\n                case 10:\n                  hideDialog();\n                  _context.next = 13;\n                  return _api2.default.renameResource(apiOptions, selectedResources[0].id, name);\n\n                case 13:\n                  result = _context.sent;\n                  resource = getResource();\n                  navigateToDir(resource.id, result.body.id, false);\n\n                case 16:\n                  return _context.abrupt('return', null);\n\n                case 19:\n                  _context.prev = 19;\n                  _context.t0 = _context['catch'](1);\n                  hideDialog();\n                  (0, _onFailError2.default)({\n                    getNotifications: getNotifications,\n                    label: localeLabel,\n                    notificationId: label,\n                    updateNotifications: updateNotifications\n                  });\n                  console.log(_context.t0);\n                  return _context.abrupt('return', null);\n\n                case 25:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this, [[1, 19]]);\n        }));\n\n        return function onSubmit(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onValidate: function () {\n        var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(name) {\n          return _regenerator2.default.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (name) {\n                    _context2.next = 4;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('emptyName'));\n\n                case 4:\n                  if (!(name.length >= 255)) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('tooLongFolderName'));\n\n                case 8:\n                  if (!(name.trim() !== (0, _sanitizeFilename2.default)(name.trim()))) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('folderNameNotAllowedCharacters'));\n\n                case 10:\n                  return _context2.abrupt('return', null);\n\n                case 11:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, _this);\n        }));\n\n        return function onValidate(_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      inputLabelText: getMessage('newName'),\n      headerText: getMessage('rename'),\n      submitButtonText: localeLabel,\n      cancelButtonText: getMessage('cancel')\n    }\n  };\n  showDialog(rawDialogElement);\n}\n\nexports.default = function (apiOptions, actions) {\n  var localeLabel = (0, _translations2.default)(apiOptions.locale, label);\n  var getSelectedResources = actions.getSelectedResources;\n  return {\n    id: label,\n    icon: {\n      svg: _iconsSvg2.default.rename\n    },\n    label: localeLabel,\n    shouldBeAvailable: function shouldBeAvailable(apiOptions) {\n      var selectedResources = getSelectedResources();\n      return selectedResources.length === 1 && selectedResources.every(function (r) {\n        return r.capabilities.canRename;\n      });\n    },\n    availableInContexts: ['row', 'toolbar'],\n    handler: function handler() {\n      return _handler(apiOptions, actions);\n    }\n  };\n};","map":{"version":3,"sources":["/home/ubuntu/Connor/WorkOSU/node_modules/@opuscapita/react-filemanager-connector-node-v1/lib/capabilities/rename.js"],"names":["Object","defineProperty","exports","value","_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","_api","_api2","_sanitizeFilename","_sanitizeFilename2","_onFailError","_onFailError2","_iconsSvg","_iconsSvg2","_translations","_translations2","obj","__esModule","default","label","_handler","apiOptions","actions","_this","showDialog","hideDialog","navigateToDir","updateNotifications","getSelectedResources","getResource","getNotifications","getMessage","bind","locale","localeLabel","rawDialogElement","elementType","elementProps","initialValue","name","onHide","onSubmit","_ref","mark","_callee","selectedResources","resourceChildren","alreadyExists","result","resource","wrap","_callee$","_context","prev","next","getChildrenForId","id","parentId","sent","some","o","abrupt","renameResource","body","t0","notificationId","console","log","stop","_x","apply","arguments","onValidate","_ref2","_callee2","_callee2$","_context2","length","trim","_x2","inputLabelText","headerText","submitButtonText","cancelButtonText","icon","svg","rename","shouldBeAvailable","every","r","capabilities","canRename","availableInContexts","handler"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _api = require('../api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _sanitizeFilename = require('sanitize-filename');\n\nvar _sanitizeFilename2 = _interopRequireDefault(_sanitizeFilename);\n\nvar _onFailError = require('../utils/onFailError');\n\nvar _onFailError2 = _interopRequireDefault(_onFailError);\n\nvar _iconsSvg = require('../icons-svg');\n\nvar _iconsSvg2 = _interopRequireDefault(_iconsSvg);\n\nvar _translations = require('../translations');\n\nvar _translations2 = _interopRequireDefault(_translations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar label = 'rename';\n\nfunction _handler(apiOptions, actions) {\n  var _this = this;\n\n  var showDialog = actions.showDialog,\n      hideDialog = actions.hideDialog,\n      navigateToDir = actions.navigateToDir,\n      updateNotifications = actions.updateNotifications,\n      getSelectedResources = actions.getSelectedResources,\n      getResource = actions.getResource,\n      getNotifications = actions.getNotifications;\n\n\n  var getMessage = _translations2.default.bind(null, apiOptions.locale);\n  var localeLabel = getMessage(label);\n\n  var rawDialogElement = {\n    elementType: 'SetNameDialog',\n    elementProps: {\n      initialValue: getSelectedResources()[0].name,\n      onHide: hideDialog,\n      onSubmit: function () {\n        var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(name) {\n          var selectedResources, resourceChildren, alreadyExists, result, resource;\n          return _regenerator2.default.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  selectedResources = getSelectedResources();\n                  _context.prev = 1;\n                  _context.next = 4;\n                  return _api2.default.getChildrenForId(apiOptions, { id: selectedResources[0].parentId });\n\n                case 4:\n                  resourceChildren = _context.sent;\n                  alreadyExists = resourceChildren.some(function (o) {\n                    return o.name === name;\n                  });\n\n                  if (!alreadyExists) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  return _context.abrupt('return', getMessage('fileExist', { name: name }));\n\n                case 10:\n                  hideDialog();\n                  _context.next = 13;\n                  return _api2.default.renameResource(apiOptions, selectedResources[0].id, name);\n\n                case 13:\n                  result = _context.sent;\n                  resource = getResource();\n\n                  navigateToDir(resource.id, result.body.id, false);\n\n                case 16:\n                  return _context.abrupt('return', null);\n\n                case 19:\n                  _context.prev = 19;\n                  _context.t0 = _context['catch'](1);\n\n                  hideDialog();\n                  (0, _onFailError2.default)({\n                    getNotifications: getNotifications,\n                    label: localeLabel,\n                    notificationId: label,\n                    updateNotifications: updateNotifications\n                  });\n                  console.log(_context.t0);\n                  return _context.abrupt('return', null);\n\n                case 25:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this, [[1, 19]]);\n        }));\n\n        return function onSubmit(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onValidate: function () {\n        var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(name) {\n          return _regenerator2.default.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (name) {\n                    _context2.next = 4;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('emptyName'));\n\n                case 4:\n                  if (!(name.length >= 255)) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('tooLongFolderName'));\n\n                case 8:\n                  if (!(name.trim() !== (0, _sanitizeFilename2.default)(name.trim()))) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  return _context2.abrupt('return', getMessage('folderNameNotAllowedCharacters'));\n\n                case 10:\n                  return _context2.abrupt('return', null);\n\n                case 11:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, _this);\n        }));\n\n        return function onValidate(_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      inputLabelText: getMessage('newName'),\n      headerText: getMessage('rename'),\n      submitButtonText: localeLabel,\n      cancelButtonText: getMessage('cancel')\n    }\n  };\n  showDialog(rawDialogElement);\n}\n\nexports.default = function (apiOptions, actions) {\n  var localeLabel = (0, _translations2.default)(apiOptions.locale, label);\n  var getSelectedResources = actions.getSelectedResources;\n\n  return {\n    id: label,\n    icon: { svg: _iconsSvg2.default.rename },\n    label: localeLabel,\n    shouldBeAvailable: function shouldBeAvailable(apiOptions) {\n      var selectedResources = getSelectedResources();\n      return selectedResources.length === 1 && selectedResources.every(function (r) {\n        return r.capabilities.canRename;\n      });\n    },\n    availableInContexts: ['row', 'toolbar'],\n    handler: function handler() {\n      return _handler(apiOptions, actions);\n    }\n  };\n};"]},"metadata":{},"sourceType":"script"}